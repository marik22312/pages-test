import{P as d}from"./vendor.6f66a33a.js";const l=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}};l();const s=document.getElementById("peer-id-input"),u=document.getElementById("connect-video-button"),m=document.getElementById("connect-mic-button"),p=document.getElementById("video-display"),y=document.getElementById("audio-display"),f=document.getElementById("my-peer-id"),r=new d;r.on("open",function(t){console.log("My peer ID is: "+t),f.innerText=t});u.addEventListener("click",async()=>{const t=await navigator.mediaDevices.getDisplayMedia({video:!0}),o=s.value;r.call(o,t,{metadata:{type:"VIDEO"}})});m.addEventListener("click",async()=>{const t=await navigator.mediaDevices.getUserMedia({audio:!0}),o=s.value;r.call(o,t,{metadata:{type:"AUDIO"}})});r.on("call",function(t){switch(console.log("Call",t.metadata.type),t.answer(),t.metadata.type){case"VIDEO":console.log("SetVideo"),t.on("stream",o=>{p.srcObject=o});return;case"AUDIO":t.on("stream",o=>{y.srcObject=o});default:console.log("Uknown")}});
